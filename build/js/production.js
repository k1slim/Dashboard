define("interact",["jquery","jquery-ui"],function(e){var t=function(){this.draggableElements=e(".content>div")};return t.prototype.init=function(){this.drag(this.draggableElements)},t.prototype.drag=function(t){e(t).draggable({containment:"parent",distance:10,grid:[10,10],snap:!0,snapTolerance:15,zIndex:20,cursor:"move"})},new t}),define("request",["jquery","jquery-ui","dot"],function(e){var t=function(){this.weatherImage=e(".weatherImagePlaceholder"),this.weatherPlaceholder=e(".weatherPlaceholder"),this.weatherOthers=e(".weatherOthers"),this.finance=e(".dragFinance")};return t.prototype.init=function(){var e=this;this.get("http://api.openweathermap.org/data/2.5/weather?q=Minsk&lang=ru&units=metric",this.parseWeather),this.get("http://api.openweathermap.org/data/2.5/forecast/daily?q=Minsk&lang=ru&units=metric&cnt=5&mode=xml",this.parseDailyWeather),this.get("https://query.yahooapis.com/v1/public/yql?q=select+*+from+yahoo.finance.xchange+where+pair+=+%22USDBYR,EURBYR,RUBBYR%22&format=json&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys",this.parseFinance),this.get("http://www.bsu.by/xml.aspx?guid=1062",this.parseRss1),this.get("http://www.onliner.by/feed",this.parseRss2),this.get("http://news.tut.by/rss/geonews/minsk.rss",this.parseRss3),setInterval(function(){e.get("http://api.openweathermap.org/data/2.5/weather?q=Minsk&lang=ru&units=metric",e.parseWeather),e.get("http://api.openweathermap.org/data/2.5/forecast/daily?q=Minsk&lang=ru&units=metric&cnt=5&mode=xml",e.parseDailyWeather),e.get("https://query.yahooapis.com/v1/public/yql?q=select+*+from+yahoo.finance.xchange+where+pair+=+%22USDBYR,EURBYR,RUBBYR%22&format=json&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys",e.parseFinance)},108e5)},t.prototype.get=function(t,n){jQuery.ajaxPrefilter(function(e){e.crossDomain&&jQuery.support.cors&&(e.url="https://cors-anywhere.herokuapp.com/"+e.url)});var r=this;e.ajax({url:t,success:function(e){n(e,r)}})},t.prototype.parseWeather=function(e,t){t.weatherImage.html('<img src="http://openweathermap.org/img/w/'+e.weather[0].icon+'.png" />'),t.weatherPlaceholder.html(~~e.main.temp+" &deg, <br/>"+e.weather[0].description),t.weatherOthers.html("Влажность: "+e.main.humidity+"%,"+"<br/>Давление: "+(e.main.pressure*.75).toFixed(1)+" мм. Рт., "+"<br/>Ветер: "+e.wind.speed+" м/с")},t.prototype.parseDailyWeather=function(t,n){var r=/\d{4}\-(\d{2})\-(\d{2})/,i=[];for(var s=1;s<6;s++)i[s-1]=r.exec(e(t).find("time")[s-1].getAttribute("day")),e(".Day"+s+"Title").html(i[s-1][2]+"."+i[s-1][1]),e(".Day"+s+"ImagePlaceholder").html('<img src="http://openweathermap.org/img/w/'+e(t).find("symbol")[s-1].getAttribute("var")+'.png" title="'+e(t).find("symbol")[s-1].getAttribute("name")+'"/>'),e(".Day"+s+"Placeholder").html("<strong>"+~~e(t).find("temperature")[s-1].getAttribute("min")+"&deg..."+~~e(t).find("temperature")[s-1].getAttribute("max")+"&deg </strong> <br/>"+(e(t).find("pressure")[s-1].getAttribute("value")*.75).toFixed(1)+" мм. Рт.<br/>"+e(t).find("humidity")[s-1].getAttribute("value")+"%<br/>"+e(t).find("windSpeed")[s-1].getAttribute("mps")+" м/с")},t.prototype.parseFinance=function(t,n){for(var r=0;r<3;r++)e(".buy"+r).html(~~t.query.results.rate[r].Bid+" р."),e(".sell"+r).html(~~t.query.results.rate[r].Ask+" р.")},t.prototype.parseRss=function(t,n){e(t+" .rssHead").html(e(n).find("title").eq(0).text());var r=e(n).find("item"),i=e(t+" .rssBody"),s=e(t+" .rssTime"),o=/(\d{2}\s\w{3}\s\d{4})\s(.{5})/,u=0,a=function(){var n=o.exec(r.eq(u).find("pubDate").text()),a=new Date,f=new Date(n[1]);e(t+" .rssBodyA").attr("href",r.eq(u).find("link").text()),i.text(r.eq(u).find("title").text()).dotdotdot({}),a.getDate()==f.getDate()&&a.getMonth()==f.getMonth()&&a.getFullYear()==f.getFullYear()?s.html(n[2]):s.html(n[1]),u!=r.size()-1?u++:u=0};a(),setInterval(a,(Math.random()*20+30)*1e3)},t.prototype.parseRss1=function(t,n){var r=".dragRSS1";n.parseRss(r,t),e(r+" .rssHead").html("Новости БГУ")},t.prototype.parseRss2=function(e,t){var n=".dragRSS2";t.parseRss(n,e)},t.prototype.parseRss3=function(e,t){var n=".dragRSS3";t.parseRss(n,e)},new t}),define("about",["jquery","jquery-ui"],function(e){var t=function(){this.aboutButton=e(".aboutButton"),this.aboutWindow=e("#aboutContent"),this.content=e(".content"),this.opened=0};return t.prototype.init=function(){var e=this;this.aboutButton.on("click",function(){e.opened==0?(e.toggleAbout(e.aboutWindow,e.content),e.opened=1):(e.toggleAbout(e.content,e.aboutWindow),e.opened=0)}),this.aboutWindow.on("click",function(){e.toggleAbout(e.content,e.aboutWindow),e.opened=0})},t.prototype.toggleAbout=function(t,n){e(n).fadeTo(300,0,function(){e(n).hide(),e(t).show(),e(t).fadeTo(300,1)})},new t}),require.config({paths:{jquery:"lib/jquery.min","jquery-ui":"lib/jquery-ui.min",dot:"lib/jquery.dotdotdot.min",interact:"interact",request:"request",about:"about"}}),require(["interact","request","about"],function(e,t,n){e.init(),t.init(),n.init()}),define("init",function(){});