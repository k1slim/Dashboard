define("interact",["jquery","jquery-ui"],function(e){var t=function(){this.draggableElements=e(".content>div")};return t.prototype.init=function(){this.drag(this.draggableElements)},t.prototype.drag=function(t){e(t).draggable({containment:"parent",distance:10,grid:[20,20],snap:!0,snapTolerance:10,zIndex:2700})},new t}),define("request",["jquery","jquery-ui"],function(e){var t=function(){this.weatherFirstImg=e(".drag1FirstImagePlaceholder"),this.weatherFirst=e(".drag1FirstPlaceholder"),this.weatherSecond=e(".drag1Second")};return t.prototype.init=function(){var e=this;this.get("http://api.openweathermap.org/data/2.5/weather?q=Minsk&lang=ru&units=metric",this.parseWeather),this.get("http://api.openweathermap.org/data/2.5/forecast/daily?q=Minsk&lang=ru&units=metric&cnt=5&mode=xml",this.parseDailyWeather),setInterval(function(){e.get("http://api.openweathermap.org/data/2.5/weather?q=Minsk&lang=ru&units=metric",e.parseWeather)},108e5)},t.prototype.get=function(t,n){var r=this;e.ajax({url:t,success:function(e){n(e,r)}})},t.prototype.parseWeather=function(e,t){t.weatherFirstImg.html('<img src="http://openweathermap.org/img/w/'+e.weather[0].icon+'.png" />'),t.weatherFirst.html(~~e.main.temp+" &deg, <br/>"+e.weather[0].description),t.weatherSecond.html("Влажность: "+e.main.humidity+"%,"+"<br/>Давление: "+e.main.pressure+" кПа, "+"<br/>Ветер: "+e.wind.speed+" м/с")},t.prototype.parseDailyWeather=function(t,n){var r=/\d{4}\-(\d{2})\-(\d{2})/,i=[];for(var s=1;s<6;s++)i[s-1]=r.exec(e(t).find("time")[s-1].getAttribute("day")),e(".drag2Day"+s+"Title").html(i[s-1][2]+"."+i[s-1][1]),e(".drag2Day"+s+"ImagePlaceholder").html('<img src="http://openweathermap.org/img/w/'+e(t).find("symbol")[s-1].getAttribute("var")+'.png" title="'+e(t).find("symbol")[s-1].getAttribute("name")+'"/>'),e(".drag2Day"+s+"Placeholder").html("<strong>"+~~e(t).find("temperature")[s-1].getAttribute("min")+"&deg..."+~~e(t).find("temperature")[s-1].getAttribute("max")+"&deg </strong> <br/>"+e(t).find("pressure")[s-1].getAttribute("value")+" кПа<br/>"+e(t).find("humidity")[s-1].getAttribute("value")+"%<br/>"+e(t).find("windSpeed")[s-1].getAttribute("mps")+" м/с")},new t}),define("about",["jquery","jquery-ui"],function(e){var t=function(){this.aboutButton=e(".aboutButton"),this.aboutWindow=e("#aboutContent"),this.content=e(".content"),this.opened=0};return t.prototype.init=function(){var e=this;this.aboutButton.on("click",function(){e.opened==0?(e.toggleAbout(e.aboutWindow,e.content),e.opened=1):(e.toggleAbout(e.content,e.aboutWindow),e.opened=0)}),this.aboutWindow.on("click",function(){e.toggleAbout(e.content,e.aboutWindow),e.opened=0})},t.prototype.toggleAbout=function(t,n){e(n).fadeTo(300,0,function(){e(n).hide(),e(t).show(),e(t).fadeTo(300,1)})},new t}),require.config({paths:{jquery:"lib/jquery.min","jquery-ui":"lib/jquery-ui.min",interact:"interact",request:"request",about:"about"}}),require(["interact","request","about"],function(e,t,n){e.init(),t.init(),n.init()}),define("init",function(){});